Testfarm dependencies
----------------------

- python >= 2.4
- libapache2-mod-python >= 3.1
- ploticus

How To Install Testfarm modules for testfarm clients?
-----------------------------------------------------

Run testfarm/install.py with root privileges:
$ sudo ./install.py

To import testfarm classes from a testfarm client script import this:
from task import *
from project import Project
from client import Client
from runner import Runner

How To Install Testfarm modules for testfarm clients? -- Alternative
--------------------------------------------------------------------

As an alternative, you can choose not to install them system-wide. 
For that, just specify the testfarm module path in your 
testfarm client sript. 
An example: say you have the testfarm source in your home dir. 
Then just begin your testfarm client adding the path to the sys.path,
and doing these imports:

import os, sys, time
sys.path.append('%s/testfarm/src' % os.environ['HOME'])
from task import *
from project import Project
from client import Client
from runner import Runner

A Testfarm client script example
---------------------------------

Can be found here:
https://iua-share.upf.edu/svn/clam/trunk/CLAM/scripts/clam_testfarm_client.py



How To Install a TestFarm Server ?
---------------------------------------

(UNIX like Systems)
- install libapache2-mod-python ( version >= 3.1 )
- install ploticus

- $ cd /etc/apache2/conf.d 

- $ sudo ln -s /path/to/testfarm/mod_python_testfarm.conf

- edit mod_python_testfarm.conf 
  change the Alias /testfarm_server to point to  /path/to/testfarm/src/server_side.py
  change DirectoryMatch to point to /path/to/testfarm/src/

- check that the testfarm/src/server_side.py file and its parent directories are
  accessible by a different user. Tip check this: 
    $ sudo su nobody
    $ ls -l /path/to/testfarm/server_side_logger.py
    $ exit

- $ sudo /etc/init.d/apache2 restart

- set up the logs and html dirs :
  $ sudo mkdir /var/www/testfarm_logs
  $ sudo mkdir /var/www/testfarm_html
  $ sudo chown www-data /var/www/testfarm_logs
  $ sudo chown www-data /var/www/testfarm_html
  

- launch server process (deamon) as www-data. maybe in a new terminal.
  $ cd path/to/testfarm/src
  $ sudo su www-data
  $ ./remote_server_timer.py

- add styles and javascript files to html project dirs. 
  do this when the <PROJECT NAME> dir has already been created by the server.
  $ sudo mkdir /var/www/testfarm_html/<PROJECT NAME>/
  $ cd /path/to/testfarm
  $ sudo cp style.css testfarm.js testfarm_info.js /var/www/testfarm_html/<PROJECT NAME>/







SF project administration  
----------------------------

(not interesting for users, just for sourceforge project admins. 
SF is slow and its help is over verbose :-( )

how to upload a sourceforge release?

ftp upload.sourceforge.net
user: anonymous / mail
cd /incoming
put file

in sourceforge.net
add release


how to update the home page ?
(actually it's only a redirection to www.iua.upf.es/~parumi/testsfarm/)

ssh  shell.sourceforge.net / sf pw
cd /home/groups/t/te/testsfarm/htdocs


